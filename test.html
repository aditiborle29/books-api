<!DOCTYPE html>
<html>
<head>
  <title>API Tester</title>
</head>
<body>
  <h2>Books API Tester</h2>

  <h3>Add Book</h3>
  <input id="title" placeholder="Title">
  <input id="author" placeholder="Author">
  <button onclick="addBook()">Add</button>

  <h3>All Books</h3>
  <button onclick="getBooks()">Show Books</button>
  <pre id="output"></pre>

<script>
const url = "http://localhost:3000/books";

async function addBook() {
  const title = document.getElementById("title").value;
  const author = document.getElementById("author").value;

  await fetch(url, {
    method: "POST",
    headers: {"Content-Type":"application/json"},
    body: JSON.stringify({title, author})
  });

  getBooks();
}

async function getBooks() {
  const res = await fetch(url);
  const data = await res.json();
  document.getElementById("output").innerText = JSON.stringify(data, null, 2);
}
</script>

</body>
</html>
